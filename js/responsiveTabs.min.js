/* ----------------
ResponsiveTabs.js
Author: Shaw | https://github.com/shshaw/
Original Author: Pete Love | www.petelove.com
Version: 1.14
Source: https://github.com/shshaw/Responsive-Tabs
------------------- */(function(e){e.fn.responsiveTabs=function(t){var n={targetClass:"responsive-tabs",headings:":header",panels:"div",defaultSpeed:0,responsiveSpeed:150,scrollOffset:0,onTabShow:function(){},onTabHide:function(){}},r=e.extend({},n,t),i=1;return this.each(function(){var t=e(this);if(!t.hasClass(r.targetClass+"--enabled")){t.addClass(r.targetClass+"--enabled");var n=e(this),s=n.children(r.headings).addClass(r.targetClass+"__heading"),o=n.children(r.panels).addClass(r.targetClass+"__panel"),u=n.find("."+r.targetClass+"__panel--active");u.length||(u=n.find("."+r.targetClass+"__panel").first().addClass(r.targetClass+"__panel--active"));n.find("."+r.targetClass+"__panel").not("."+r.targetClass+"__panel--active").hide().attr("aria-hidden","true");u.attr("aria-hidden","false");u.addClass(r.targetClass+"__panel--closed-accordion-only");var a=e("<div/>",{"class":r.targetClass+"-wrapper"});n.wrap(a);var f=0;n.find("."+r.targetClass+"__panel").each(function(){var t=e(this).height();t>f&&(f=t)});var l=e("<ul/>",{"class":r.targetClass+"__list",role:"tablist"}),c=1;s.each(function(){var t=e(this),s=e(this).next();t.attr("tabindex",0);var o=e("<li/>",{"class":r.targetClass+"__list__item",id:"tablist"+i+"-tab"+c,"aria-controls":"tablist"+i+"-panel"+c,role:"tab",tabindex:0,text:t.text(),keydown:function(e){e.keyCode===13&&o.click()},click:function(){a.css("height",f);n.find("."+r.targetClass+"__panel--closed-accordion-only").removeClass(r.targetClass+"__panel--closed-accordion-only");n.find("."+r.targetClass+"__panel--active").toggle(r.defaultSpeed,function(){r.onTabHide.call(this)}).removeClass(r.targetClass+"__panel--active").attr("aria-hidden","true").prev().removeClass(r.targetClass+"__heading--active");s.toggle(r.defaultSpeed,function(){r.onTabShow.call(this)}).addClass(r.targetClass+"__panel--active").attr("aria-hidden","false");t.addClass(r.targetClass+"__heading--active");l.find("."+r.targetClass+"__list__item--active").removeClass(r.targetClass+"__list__item--active");o.addClass(r.targetClass+"__list__item--active");a.css("height","auto")}});s.attr({role:"tabpanel","aria-labelledby":o.attr("id"),id:"tablist"+i+"-panel"+c});s.hasClass(r.targetClass+"__panel--active")&&o.addClass(r.targetClass+"__list__item--active");l.append(o);t.keydown(function(e){e.keyCode===13&&t.click()});t.click(function(){n.find("."+r.targetClass+"__panel--closed-accordion-only").removeClass(r.targetClass+"__panel--closed-accordion-only");if(!t.hasClass(r.targetClass+"__heading--active")){var i,o=n.find("."+r.targetClass+"__heading--active");o.length&&(i=o.offset().top);n.find("."+r.targetClass+"__panel--active").slideToggle(r.responsiveSpeed,function(){r.onTabHide.call(this)}).removeClass(r.targetClass+"__panel--active").prev().removeClass(r.targetClass+"__heading--active");n.find("."+r.targetClass+"__panel").hide().attr("aria-hidden","true");s.slideToggle(r.responsiveSpeed,function(){r.onTabShow.call(this)}).addClass(r.targetClass+"__panel--active").attr("aria-hidden","false");t.addClass(r.targetClass+"__heading--active");var u=n.find("."+r.targetClass+"__list__item--active");u.removeClass(r.targetClass+"__list__item--active");var a=s.attr("id"),f=a.replace("panel","tab");e("#"+f).addClass(r.targetClass+"__list__item--active");var l=n.offset().top-r.scrollOffset,c=t.offset().top-15-r.scrollOffset;i<c&&e("html, body").animate({scrollTop:l},0).animate({scrollTop:c},400)}else{s.removeClass(r.targetClass+"__panel--active").slideToggle(r.responsiveSpeed,function(){e(this).addClass(r.targetClass+"__panel--closed-accordion-only");r.onTabHide.call(this)});t.removeClass(r.targetClass+"__heading--active")}});c++;n.prepend(l)});i++}})}})(jQuery);